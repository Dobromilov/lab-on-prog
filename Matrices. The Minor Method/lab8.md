```c
#include <stdio.h>
#include <math.h>

void print_matrix(int n, double matrix[n][n]) {
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            printf("%f ", matrix[i][j]);
        }
        printf("\n");
    }
}


void getMinor(int len, int j, double matr[len][len], double newMatr[len-1][len-1]){
    for (int x = 1; x < len; x++) {
        int new_y = 0;
        for (int y = 0; y < len; y++) {
            if (y != j) {
                newMatr[x-1][new_y] = matr[x][y];
                new_y++;
            }
        }
    }
}

double decision_matrix(int n, double matrix[n][n]){
    if (n == 1) {
        return matrix[0][0];
    }

    double sum = 0;

    for (int i = 0; i < n; i++) {
        int size = n - 1;
        double newMatr[size][size]; 
        
        getMinor(n, i, matrix, newMatr);
        sum += pow(-1, i) * matrix[0][i] * decision_matrix(size, newMatr);
    }
    return sum;
}

void copyMatrix(int len, double src[len][len], double dest[len][len]){
    for (int i = 0; i < len; i++) {
        for (int j = 0; j < len; j++) {
            dest[i][j] = src[i][j];
        }
    }
}



int main() {
    int n;
    printf("Введите размер матрицы: ");
    scanf("%d", &n);

    double matrix[n][n],array_answer[n];
    printf("Введите элементы матрицы:\n");
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            scanf("%lf", &matrix[i][j]);
        }
    }

    printf("Исходная матрица:\n");
    print_matrix(n, matrix);

    double determinant = decision_matrix(n, matrix);
    printf("Определитель матрицы: %f\n", determinant);
    
    printf("Столбец свободных членов: ");
    for (int i = 0; i < n; i++) {
        scanf("%lf", &array_answer[i]);
    }
    
    double matrix_answer[n][n], answer;
    for (int j=0; j<n; j++){
        copyMatrix(n, matrix, matrix_answer);
        for (int i = 0; i < n; i++) {
            matrix_answer[i][j] = array_answer[i];
        }

        answer=decision_matrix(n, matrix_answer)/determinant;
        printf("x = %lf; ", answer);
    }
}
```
### Описание программы:

Эта программа на языке C предназначена для решения системы линейных уравнений методом Крамера. Программа вычисляет определитель матрицы коэффициентов и находит значения неизвестных переменных, используя определители матриц, полученных заменой столбцов матрицы коэффициентов на столбец свободных членов.

### Основные функции программы:

1. **`print_matrix`**:
   - **Назначение**: Выводит на экран матрицу заданного размера.
   - **Параметры**:
     - `int n`: размер матрицы.
     - `double matrix[n][n]`: матрица, которую нужно вывести.
   - **Принцип работы**: Проходит по всем элементам матрицы и выводит их на экран.

2. **`getMinor`**:
   - **Назначение**: Создает минор матрицы, исключая первую строку и указанный столбец.
   - **Параметры**:
     - `int len`: размер исходной матрицы.
     - `int j`: индекс столбца, который нужно исключить.
     - `double matr[len][len]`: исходная матрица.
     - `double newMatr[len-1][len-1]`: новая матрица (минор).
   - **Принцип работы**: Копирует элементы из исходной матрицы в новую, исключая первую строку и указанный столбец.

3. **`decision_matrix`**:
   - **Назначение**: Рекурсивно вычисляет определитель матрицы.
   - **Параметры**:
     - `int n`: размер матрицы.
     - `double matrix[n][n]`: матрица, для которой вычисляется определитель.
   - **Принцип работы**: Если матрица размером 1x1, возвращает единственный элемент. Иначе, для каждого элемента первой строки создает минор и рекурсивно вычисляет определитель, суммируя результаты с учетом знака.

4. **`copyMatrix`**:
   - **Назначение**: Копирует содержимое одной матрицы в другую.
   - **Параметры**:
     - `int len`: размер матрицы.
     - `double src[len][len]`: исходная матрица.
     - `double dest[len][len]`: целевая матрица.
   - **Принцип работы**: Проходит по всем элементам исходной матрицы и копирует их в целевую.

5. **`main`**:
   - **Назначение**: Основная функция программы, которая управляет вводом данных, вычислением определителя и решением системы уравнений.
   - **Принцип работы**:
     - Запрашивает у пользователя размер матрицы и её элементы.
     - Выводит исходную матрицу на экран.
     - Вычисляет определитель матрицы коэффициентов.
     - Запрашивает у пользователя столбец свободных членов.
     - Для каждого неизвестного создает матрицу, заменяя соответствующий столбец на столбец свободных членов, и вычисляет значение неизвестного по формуле Крамера.
     - Выводит значения неизвестных на экран.

### Пример работы программы:

1. Пользователь вводит размер матрицы, например, 3.
2. Пользователь вводит элементы матрицы коэффициентов.
3. Программа выводит исходную матрицу.
4. Программа вычисляет и выводит определитель матрицы.
5. Пользователь вводит столбец свободных членов.
6. Программа вычисляет и выводит значения неизвестных переменных.

### Пример вывода:

```
Введите размер матрицы: 3
Введите элементы матрицы:
1 2 3
4 5 6
7 8 9
Исходная матрица:
1.000000 2.000000 3.000000 
4.000000 5.000000 6.000000 
7.000000 8.000000 9.000000 
Определитель матрицы: 0.000000
Столбец свободных членов: 1 2 3
x = NaN; x = NaN; x = NaN;
```

### Замечания:

- Если определитель матрицы коэффициентов равен нулю, система уравнений либо не имеет решения, либо имеет бесконечно много решений. В этом случае программа может выводить некорректные значения (например, `NaN`).
- Программа не обрабатывает случаи, когда матрица не квадратная или когда ввод пользователя некорректен.

