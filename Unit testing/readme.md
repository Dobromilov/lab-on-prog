# **Unit Testing в C с использованием Cmocka**  

Этот проект демонстрирует **модульное тестирование (Unit Testing)** алгоритмов сортировки на языке C с использованием библиотеки **Cmocka**.  

## **Описание проекта**  
Проект включает реализацию двух алгоритмов сортировки:  
- **Сортировка Шелла** (`shellSort`)  
- **Сортировка вставками** (`insertionSort`)  

Для тестирования корректности работы алгоритмов и подсчёта операций (`M` — перемещения, `C` — сравнения) написаны **юнит-тесты**.  

### **Функционал**  
- Генерация последовательности Кнута (`generateKnuthSequence`) для сортировки Шелла.  
- Сортировка массивов с подсчётом операций.  
- Генерация случайных массивов (`generateArray`).  
- Тестирование с помощью **Cmocka**: проверка корректности сортировки и работы генераторов.  

---

## **Структура проекта**  

### **1. `sort.h`**  
Заголовочный файл с объявлениями функций:  
- `generateKnuthSequence` – генерирует последовательность Кнута для сортировки Шелла.  
- `shellSort` – реализация сортировки Шелла.  
- `insertionSort` – реализация сортировки вставками.  
- `generateArray` – заполняет массив случайными числами.  

### **2. `sort.c`**  
Реализация алгоритмов сортировки:  
- **Сортировка Шелла** с использованием последовательности Кнута.  
- **Сортировка вставками** с подсчётом операций.  
- Генерация случайного массива (`rand()`).  

### **3. `test_sort.c`**  
Юнит-тесты с использованием **Cmocka**:  
- `test_knuth_sequence` – проверка генерации последовательности Кнута.  
- `test_insertion_sort` – проверка корректности сортировки вставками.  
- `test_shell_sort` – проверка корректности сортировки Шелла.  
- `test_generate_array` – проверка генерации случайного массива.  

### **4. `CMakeLists.txt`**  
Конфигурация для сборки проекта с **Cmake** и **Cmocka**:  
- Создание исполняемого файла `sort_tests`.  
- Подключение библиотеки `cmocka`.  
- Запуск тестов через `ctest`.  

---

## **Сборка и запуск**  

### **1. Установка зависимостей**  
```bash
sudo apt-get install cmake libcmocka-dev
```

### **2. Сборка и тестирование**  
```bash
mkdir build && cd build
cmake ..
make
ctest --output-on-failure
```

### **3. Запуск тестов**  
```bash
./sort_tests
```

---

## **Пример вывода тестов**  
```
[==========] Running 4 test(s).
[ RUN      ] test_knuth_sequence
[       OK ] test_knuth_sequence
[ RUN      ] test_insertion_sort
[       OK ] test_insertion_sort
[ RUN      ] test_shell_sort
[       OK ] test_shell_sort
[ RUN      ] test_generate_array
[       OK ] test_generate_array
[==========] 4 test(s) run.
[  PASSED  ] 4 test(s).
```
