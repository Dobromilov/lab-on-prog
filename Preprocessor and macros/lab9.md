#Получить матрицу D[m,n] путем умножения матрицы B[m,k] на матрицу E[k,n]. Определить в результирующей матрице столбец с наибольшей суммой отрицательных элементов.  Упорядочить этот столбец по убыванию


```c
#include <stdio.h>
#include <stdlib.h>

void print_matrix(int x, int y, int **matrix) {
    for (int i = 0; i < x; i++) {
        for (int j = 0; j < y; j++) {
            printf("%d ", matrix[i][j]);
        }
        printf("\n");
    }
}

//Получение матрицы D[m,n]
void the_product_of_matrices(int **matrix_B, int **matrix_E, int m, int n, int k, int **matrix_D) {
    for (int x = 0; x < m; x++) {
        for (int y = 0; y < n; y++) {
            matrix_D[x][y] = 0; 
            for (int z = 0; z < k; z++) {
                matrix_D[x][y] += matrix_B[x][z] * matrix_E[z][y];
            }
        }
    }
}

//Поиск максимальной отрицательной суммы в столбцах и вычисление индекса этого столбца
int find_column_with_max_negative_sum(int **matrix, int m, int n) {
    int max_sum = 1000000; 
    int column_index = -1; 
    
    for (int j = 0; j < n; j++) { 
        int sum = 0;
        int has_negative = 0; 
        for (int i = 0; i < m; i++) {
            if (matrix[i][j] < 0) { 
                sum += matrix[i][j];
                has_negative = 1; 
            }
        }
        if (has_negative && sum < max_sum) {
            max_sum = sum;
            column_index = j;
        }
    }
    if (column_index != -1) {
        printf("Столбец с максимальной суммой отрицательных элементов: %d\n", column_index + 1);
        printf("Сумма отрицательных элементов этого столбца: %d\n", max_sum);
    } else {
        printf("В матрице нет отрицательных элементов.\n");
    }

    return column_index;
}


//Сортировка bubble_sort по полученному столбцу
void bubble_sort(int **matrix_D, int m, int column_index) {
    for (int i = 0; i < m - 1; i++) {
        for (int j = 0; j < m - i - 1; j++) {
            if (matrix_D[j][column_index] < matrix_D[j + 1][column_index]) {
                int temp = matrix_D[j][column_index];
                matrix_D[j][column_index] = matrix_D[j + 1][column_index];
                matrix_D[j + 1][column_index] = temp;
            }
        }
    }
}

int main() {
    int m, n, k, option, min, max;
    printf("Введите размеры матриц m, n, k: ");
    scanf("%d %d %d", &m, &n, &k);
    if (n<=0 || m<=0 || k<=0 || n>15 || m>15 || k>15){
        printf("error..");
        return 1;
    }
    printf("Заполняешь сам или рандомно? (0 V 1): ");
    if (scanf("%d", &option) != 1) {
            printf("error..\n");
            return 1;
    }
    if (option == 1) {
    printf("Введите диапазон рандома(min max): ");
    if (scanf("%d %d", &min, &max) != 2) {
        printf("error..\n");
        return 1;
    }
    if (min > max) {
        printf("Ошибка: min не может быть больше max.\n");
        return 1;
    }
}
    
    
    int **matrix_B = (int **)malloc(m * sizeof(int *));
    for (int i = 0; i < m; i++) {
        matrix_B[i] = (int *)malloc(k * sizeof(int));
    }
    printf("Введите элементы матрицы B (размер %dx%d):\n", m, k);
    for (int i = 0; i < m; i++) {
        for (int j = 0; j < k; j++) {
            if (option==0){
                scanf("%d", &matrix_B[i][j]);
            } else {
                matrix_B[i][j]=min + rand() % (max - min + 1);
            }
        }
    }
    if (option==1){
        print_matrix(m, k, matrix_B);
    }
    
    int **matrix_E = (int **)malloc(k * sizeof(int *));
    for (int i = 0; i < k; i++) {
        matrix_E[i] = (int *)malloc(n * sizeof(int));
    }
    printf("Введите элементы матрицы E (размер %dx%d):\n", k, n);
    for (int i = 0; i < k; i++) {
        for (int j = 0; j < n; j++) {
            if (option==0){
                scanf("%d", &matrix_E[i][j]);
            } else {
                matrix_E[i][j]=min + rand() % (max - min + 1);
            }
        }
    }
    if (option==1){
        print_matrix(k, n, matrix_E);
    }
    
    int **matrix_D = (int **)malloc(m * sizeof(int *));
    for (int i = 0; i < m; i++) {
        matrix_D[i] = (int *)malloc(n * sizeof(int));
    }
    
    
    the_product_of_matrices(matrix_B, matrix_E, m, n, k, matrix_D);
    printf("Результирующая матрица D (размер %dx%d):\n", m, n);
    print_matrix(m, n, matrix_D);
    
    int index=find_column_with_max_negative_sum(matrix_D, m, n);
    bubble_sort(matrix_D,m,index);
    print_matrix(m, n, matrix_D);
    
    // Освобождаем память
    for (int i = 0; i < m; i++) free(matrix_B[i]);
    free(matrix_B);

    for (int i = 0; i < k; i++) free(matrix_E[i]);
    free(matrix_E);

    for (int i = 0; i < m; i++) free(matrix_D[i]);
    free(matrix_D);
    return 0;
}
```

### Описание программы:

Эта программа на языке C выполняет следующие задачи:
1. Умножает две матрицы **B** и **E**, чтобы получить результирующую матрицу **D**.
2. Находит в матрице **D** столбец с наибольшей суммой отрицательных элементов.
3. Сортирует этот столбец по убыванию.
4. Выводит результаты на экран.

Программа поддерживает как ручной ввод элементов матриц, так и их заполнение случайными числами в заданном диапазоне.

---

### Основные функции программы:

1. **`print_matrix`**:
   - **Назначение**: Выводит матрицу на экран.
   - **Параметры**:
     - `int x`: количество строк.
     - `int y`: количество столбцов.
     - `int **matrix`: указатель на матрицу.
   - **Принцип работы**: Проходит по всем элементам матрицы и выводит их на экран.

2. **`the_product_of_matrices`**:
   - **Назначение**: Умножает две матрицы **B** и **E** и сохраняет результат в матрицу **D**.
   - **Параметры**:
     - `int **matrix_B`: первая матрица (размер `m x k`).
     - `int **matrix_E`: вторая матрица (размер `k x n`).
     - `int m, n, k`: размеры матриц.
     - `int **matrix_D`: результирующая матрица (размер `m x n`).
   - **Принцип работы**: Выполняет умножение матриц по формуле:
     \[
     D[i][j] = \sum_{z=0}^{k-1} B[i][z] \cdot E[z][j]
     \]

3. **`find_column_with_max_negative_sum`**:
   - **Назначение**: Находит столбец с наибольшей суммой отрицательных элементов.
   - **Параметры**:
     - `int **matrix`: матрица, в которой ищется столбец.
     - `int m, n`: размеры матрицы.
   - **Принцип работы**:
     - Для каждого столбца вычисляет сумму отрицательных элементов.
     - Возвращает индекс столбца с наибольшей суммой отрицательных элементов.
     - Если отрицательных элементов нет, возвращает `-1`.

4. **`bubble_sort`**:
   - **Назначение**: Сортирует указанный столбец матрицы по убыванию.
   - **Параметры**:
     - `int **matrix_D`: матрица, в которой сортируется столбец.
     - `int m`: количество строк.
     - `int column_index`: индекс столбца для сортировки.
   - **Принцип работы**: Использует алгоритм пузырьковой сортировки для упорядочивания элементов столбца.

5. **`main`**:
   - **Назначение**: Основная функция программы.
   - **Принцип работы**:
     - Запрашивает у пользователя размеры матриц `m`, `n`, `k`.
     - Предлагает выбор: ручной ввод элементов или заполнение случайными числами.
     - Запрашивает элементы матриц **B** и **E**.
     - Выполняет умножение матриц и выводит результат.
     - Находит столбец с наибольшей суммой отрицательных элементов.
     - Сортирует этот столбец и выводит обновленную матрицу.
     - Освобождает выделенную память.

---

### Пример работы программы:

#### Ввод:
```
Введите размеры матриц m, n, k: 3 3 3
Заполняешь сам или рандомно? (0 V 1): 0
Введите элементы матрицы B (размер 3x3):
1 2 3
4 5 6
7 8 9
Введите элементы матрицы E (размер 3x3):
9 8 7
6 5 4
3 2 1
```

#### Вывод:
```
Результирующая матрица D (размер 3x3):
30 24 18
84 69 54
138 114 90
Столбец с максимальной суммой отрицательных элементов: В матрице нет отрицательных элементов.
30 24 18
84 69 54
138 114 90
```

#### Ввод (с рандомным заполнением):
```
Введите размеры матриц m, n, k: 3 3 3
Заполняешь сам или рандомно? (0 V 1): 1
Введите диапазон рандома(min max): -10 10
```

#### Вывод:
```
Матрица B:
-2 5 -7
3 -4 6
-1 8 -3
Матрица E:
7 -6 2
-5 4 -8
9 -3 1
Результирующая матрица D (размер 3x3):
-68 29 -41
75 -38 58
-34 17 -27
Столбец с максимальной суммой отрицательных элементов: 1
Сумма отрицательных элементов этого столбца: -177
75 -38 58
-34 17 -27
-68 29 -41
```

---

### Замечания:
1. Программа проверяет корректность ввода размеров матриц (не больше 15 и не меньше 1).
2. Если в матрице нет отрицательных элементов, программа сообщает об этом.
3. Используется динамическое выделение памяти для матриц, что позволяет работать с матрицами произвольного размера (в пределах ограничений).
4. Программа освобождает выделенную память, чтобы избежать утечек.
